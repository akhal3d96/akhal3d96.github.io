(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],[,,,,,,function(e,t,a){e.exports=a.p+"static/media/skyClear.68d8c2c9.svg"},function(e,t,a){e.exports=a.p+"static/media/skyClearNight.66944070.svg"},function(e,t,a){e.exports=a.p+"static/media/rain.4f3d1106.svg"},function(e,t,a){e.exports=a.p+"static/media/rainNight.fd453ba5.svg"},function(e,t,a){e.exports=a.p+"static/media/showerRain.2ed277e9.svg"},function(e,t,a){e.exports=a.p+"static/media/fewClouds.f980fc80.svg"},function(e,t,a){e.exports=a.p+"static/media/fewCloudsNight.a9704210.svg"},function(e,t,a){e.exports=a.p+"static/media/clouds.b797a624.svg"},function(e,t,a){e.exports=a.p+"static/media/thunderstorm.13f399bf.svg"},function(e,t,a){e.exports=a.p+"static/media/snow.18a9fdd5.svg"},function(e,t,a){e.exports=a.p+"static/media/mist.1ab10811.svg"},,,function(e,t,a){e.exports=a(26)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(3),s=a.n(c),i=(a(24),a(1)),l=(a(25),a(4)),o=a(2),m=a(18),u=r.a.createContext(),d="4b1ca1786a17f5e1dd0cff314c7bd99f",f={units:"metric",location:"Cairo,EG",timeFormat:"12hours",showSeconds:!0,isDarkMode:!1};function h(e){var t=e.label,a=Object(m.a)(e,["label"]);return r.a.createElement("label",{className:"radio"},r.a.createElement("input",Object.assign({type:"radio"},a)),t)}function v(e){localStorage.setItem("settings",JSON.stringify(e))}function g(e){var t=e.children,a=function(e){var t=JSON.parse(localStorage.getItem("settings"));return t||(v(e),e)}(f),c=Object(n.useState)(a),s=Object(i.a)(c,2),l=s[0],o=function(e){return function(t){e(t),v(t)}}(s[1]);return r.a.createElement(u.Provider,{value:{settings:l,updateSettings:o}},t)}var E=function(){var e=Object(n.useContext)(u),t=e.settings,a=e.updateSettings,c=t.units,s=t.location,i=t.timeFormat,m=t.showSeconds;return r.a.createElement("div",null,r.a.createElement("form",{onChange:function(e){return function(e,t,a){var n=e.target.type,r=e.target.name,c="checkbox"===n?e.target.checked:e.target.value;t(Object(o.a)(Object(o.a)({},a),{},Object(l.a)({},r,c)))}(e,a,t)}},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Location"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"location",type:"text",placeholder:"Weather location",defaultValue:s}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Time format"),r.a.createElement("div",{className:"control"},r.a.createElement(h,{name:"timeFormat",label:"12 Hours (AM/PM)",value:"12hours",defaultChecked:"12hours"===i}),r.a.createElement(h,{name:"timeFormat",label:"24 Hours",value:"24hours",defaultChecked:"24hours"===i}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Units"),r.a.createElement("div",{className:"control"},r.a.createElement(h,{name:"units",label:"C (metric)",value:"metric",defaultChecked:"metric"===c}),r.a.createElement(h,{name:"units",label:"F (imperial)",value:"imperial",defaultChecked:"imperial"===c}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Other options"),r.a.createElement("div",{className:"control"},r.a.createElement("label",{className:"checkbox"},r.a.createElement("input",{type:"checkbox",name:"showSeconds",checked:m}),"Show seconds"))),r.a.createElement("button",{onClick:function(e){return function(e,t){e.preventDefault(),t(f)}(e,a)},className:"button"},"Restore to default")))};function b(){var e=Object(n.useContext)(u).settings,t=e.location,a=e.isDarkMode,c="has-text-centered is-family-sans-serif is-size-4".concat(" ",a?"has-text-light":"has-text-dark"),s="footer".concat(a?" has-background-black":" has-background-white");return r.a.createElement("footer",{className:s},r.a.createElement("div",null,r.a.createElement("h4",{className:c},t)))}function p(e){var t=e.digits,a=e.isDarkMode,n=e.children;return r.a.createElement("div",{className:"column"},r.a.createElement("h1",{className:a&&"has-text-white",style:{fontSize:"6rem"}},t," ",n))}function N(e){return(e.getHours()+24)%12||12}function k(e){var t=e.date,a=e.showSeconds,n=e.isDarkMode,c=t.getHours()>=0&&t.getHours()<12?"AM":"PM";return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,{digits:N(t),isDarkMode:n}),r.a.createElement(p,{digits:t.getMinutes(),isDarkMode:n}),a&&r.a.createElement(p,{digits:t.getSeconds(),isDarkMode:n}),r.a.createElement(p,{digits:c,isDarkMode:n}))}function w(e){var t=e.date,a=e.showSeconds;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,{digits:t.getHours()}),r.a.createElement(p,{digits:t.getMinutes()}),a&&r.a.createElement(p,{digits:t.getSeconds()}))}var x=function(){var e=Object(n.useState)(new Date),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useContext)(u).settings,l=s.timeFormat,o=s.showSeconds,m=s.isDarkMode;return Object(n.useEffect)((function(){var e=setInterval((function(){return c(new Date)}),1e3);return function(){clearInterval(e)}}),[o]),r.a.createElement("section",null,r.a.createElement("div",{className:"columns has-text-centered is-family-sans-serif"},"24hours"===l?r.a.createElement(w,{date:a,showSeconds:o,isDarkMode:m}):r.a.createElement(k,{date:a,showSeconds:o,isDarkMode:m})))};function O(){var e=Object(n.useContext)(u).settings.isDarkMode?"has-text-light":"has-text-dark";return r.a.createElement("section",null,r.a.createElement("div",{className:"has-text-centered is-family-sans-serif is-size-5 mb-3 mt-3"},r.a.createElement("h2",{className:e},(new Date).toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))))}function y(e){var t=e.setIsModalShown,a=document.getElementById("settings");return s.a.createPortal(r.a.createElement("div",{className:"modal is-active"},r.a.createElement("div",{className:"modal-background"}),r.a.createElement("div",{className:"modal-card"},r.a.createElement("header",{className:"modal-card-head"},r.a.createElement("p",{className:"modal-card-title"},"Settings"),r.a.createElement("button",{className:"delete","aria-label":"close",onClick:function(){return t(!1)}})),r.a.createElement("section",{className:"modal-card-body"},r.a.createElement(E,null)))),a)}function S(e){var t=e?"#0A0A0A":"#ffffff";document.querySelector("html").style.backgroundColor=t}function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function M(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var D=r.a.createElement("path",{d:"M24 13.616v-3.232c-1.651-.587-2.694-.752-3.219-2.019v-.001c-.527-1.271.1-2.134.847-3.707l-2.285-2.285c-1.561.742-2.433 1.375-3.707.847h-.001c-1.269-.526-1.435-1.576-2.019-3.219h-3.232c-.582 1.635-.749 2.692-2.019 3.219h-.001c-1.271.528-2.132-.098-3.707-.847l-2.285 2.285c.745 1.568 1.375 2.434.847 3.707-.527 1.271-1.584 1.438-3.219 2.02v3.232c1.632.58 2.692.749 3.219 2.019.53 1.282-.114 2.166-.847 3.707l2.285 2.286c1.562-.743 2.434-1.375 3.707-.847h.001c1.27.526 1.436 1.579 2.019 3.219h3.232c.582-1.636.75-2.69 2.027-3.222h.001c1.262-.524 2.12.101 3.698.851l2.285-2.286c-.744-1.563-1.375-2.433-.848-3.706.527-1.271 1.588-1.44 3.221-2.021zm-12 2.384c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4z"}),C=function(e){var t=e.svgRef,a=e.title,n=M(e,["svgRef","title"]);return r.a.createElement("svg",j({width:24,height:24,viewBox:"0 0 24 24",ref:t},n),a?r.a.createElement("title",null,a):null,D)},I=r.a.forwardRef((function(e,t){return r.a.createElement(C,j({svgRef:t},e))}));a.p;function z(){return r.a.createElement("button",{className:"button is-dark"},"Dark")}function F(){return r.a.createElement("button",{className:"button is-light"},"Light")}function H(e){var t=e.setIsModalShown,a=Object(n.useContext)(u),c=a.settings,s=a.updateSettings,i=c.isDarkMode,l="navbar".concat(i?" has-background-black":"");return r.a.createElement("nav",{className:l,role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("span",{className:"navbar-item",style:{cursor:"pointer",fill:"#CCCCCC",width:"4 rem"},onClick:function(){return t(!0)}},r.a.createElement(I,null))),r.a.createElement("div",{className:"navbar-menu"},r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement("div",{className:"toggleTheme",onClick:function(){return function(e,t){var a=!e.isDarkMode;t(Object(o.a)(Object(o.a)({},e),{},{isDarkMode:a})),S(a)}(c,s)}},i?r.a.createElement(F,null):r.a.createElement(z,null))))))}function P(e,t){var a="https://api.openweathermap.org/data/2.5/".concat(e,"?"),n=Object.entries(t).reduce((function(e,t){return e.concat(t[0],"=",t[1],"&")}),"");return a.concat(n)}function B(e){var t=e.minTemperature,a=e.maxTemperature,n=e.day,c=e.describtion,s=e.icon,i=e.isDarkMode;t=parseInt(t),a=parseInt(a);return r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"container is-family-sans-serif has-text-centered"},r.a.createElement("figure",{className:"image is-64x64",style:{margin:"auto"}},r.a.createElement("img",{src:s,alt:c,className:i&&"is-dark-mode"})),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns"},r.a.createElement("h1",{className:"column is-size-4 has-text-weight-medium"},t),r.a.createElement("h1",{className:"column is-size-4 has-text-weight-medium has-text-grey"},a)),r.a.createElement("h3",{className:"has-text-weight-light is-size-3"},n))))}var R=a(6),T=a.n(R),A=a(7),J=a.n(A),L=a(8),q=a.n(L),G=a(9),W=a.n(G),_=a(10),U=a.n(_),V=a(11),$=a.n(V),K=a(12),Q=a.n(K),X=a(13),Y=a.n(X),Z=a(14),ee=a.n(Z),te=a(15),ae=a.n(te),ne=a(16),re=a.n(ne);function ce(){var e=(new Date).getHours();return e>6&&e<20}function se(e,t,a){return e>=t&&e<a}function ie(e,t){return se(e,200,300)?ee.a:se(e,300,500)?ce()||t?q.a:W.a:se(e,500,600)?U.a:se(e,600,700)?ae.a:se(e,700,800)?re.a:800===e?ce()||t?T.a:J.a:se(e,801,803)?ce()||t?$.a:Q.a:Y.a}function le(e){var t=e.units,a=e.location,c=e.isDarkMode,s=Object(n.useState)([]),l=Object(i.a)(s,2),o=l[0],m=l[1];return Object(n.useEffect)((function(){var e=P("forecast",{q:a,units:t,appid:d}),n=[];fetch(e).then((function(e){return e.json()})).then((function(e){for(var t=e.list,a=t[0],r=function(e,r){var c=t.find((function(e){return e.dt>=a.dt+r}));c&&n.push(c)},c=0,s=a.dt;c<=4;s=86400*c,c++)r(0,s);m(n)})).catch((function(){}))}),[t,a]),o.map((function(e){return r.a.createElement(B,{key:e.dt,maxTemperature:e.main.temp_max,minTemperature:e.main.temp_min,describtion:e.weather[0].description,icon:ie(e.weather[0].id,!0),day:(t=e.dt,new Date(1e3*t).toLocaleDateString("en-GB",{weekday:"long"})),isDarkMode:c});var t}))}var oe=a(17),me=function e(t,a,n,r){Object(oe.a)(this,e),this.temperature=t,this.description=a,this.icon=n,this.day=r};function ue(e){var t=e.units,a=e.location,c=e.isDarkMode,s=Object(n.useState)(new me),l=Object(i.a)(s,2),o=l[0],m=l[1];return Object(n.useEffect)((function(){var e=P("weather",{q:a,units:t,appid:d});fetch(e).then((function(e){return e.json()})).then((function(e){var t=parseInt(e.main.temp),a=e.weather[0].description,n=ie(e.weather[0].id);m(new me(t,a,n,"Now"))})).catch((function(){}))}),[t,a]),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"has-text-centered is-family-sans-serif"},r.a.createElement("figure",{className:"image is-128x128 mb-2",style:{margin:"auto"}},r.a.createElement("img",{src:o.icon,alt:o.describtion,className:c&&"is-dark-mode"})),r.a.createElement("h1",{className:"is-size-3 has-text-weight-bold"},o.temperature),r.a.createElement("h3",{className:"has-text-weight-light is-size-2"},o.day)))}function de(){var e=Object(n.useContext)(u).settings,t=e.units,a=e.location,c=e.isDarkMode,s=a.replace(/\s/g,"");return r.a.createElement("section",null,r.a.createElement("div",{className:"columns is-vcentered is-centered mb-2"},r.a.createElement(ue,{units:t,location:s,isDarkMode:c}),r.a.createElement(le,{units:t,location:s,isDarkMode:c})))}var fe=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1];return r.a.createElement(g,null,r.a.createElement(H,{setIsModalShown:c}),r.a.createElement("div",{className:"container"},r.a.createElement(x,null),r.a.createElement(O,null),r.a.createElement(de,null),r.a.createElement(b,null),a&&r.a.createElement(y,{setIsModalShown:c})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var he=JSON.parse(localStorage.getItem("settings"));S((null===he||void 0===he?void 0:he.isDarkMode)||!1),s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[19,1,2]]]);
//# sourceMappingURL=main.2be99d57.chunk.js.map