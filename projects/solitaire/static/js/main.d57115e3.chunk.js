(this.webpackJsonpsolitaire=this.webpackJsonpsolitaire||[]).push([[0],{28:function(e,n,t){e.exports=t(40)},33:function(e,n,t){},34:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(10),o=t.n(c),i=(t(33),t(42)),u=t(24),s=t(25),l=(t(34),t(2)),d=t(44),f=t(5),m=[{name:"clubs",symbol:"\u2663",color:"black"},{name:"diams",symbol:"\u2666",color:"red"},{name:"hearts",symbol:"\u2665",color:"red"},{name:"spades",symbol:"\u2660",color:"black"}],b=["A","2","3","4","5","6","7","8","9","10","J","Q","K"].map((function(e,n){return{rank:e,index:n}})),v="card",p=t(12);function E(e,n){return n.find((function(n){return n.id===e}))}var k=t(26);function y(e,n){return"".concat(e,"-").concat(n)}var O=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e){return n.reduce((function(e,n){return n(e)}),e)}};function h(e){if(!Array.isArray(e))throw new Error("shuffle expect an array as parameter.");for(var n,t,a=Math.random,r=e.slice(),c=e.length;c;)n=Math.floor(a()*c),t=r[c-=1],r[c]=r[n],r[n]=t;return r}var g=Object(p.b)({name:v,initialState:function(){for(var e=[],n=h(m.flatMap((function(e){var n=e.name,t=e.symbol,a=e.color;return b.map((function(e){return function(e){var n=e.rank,t=e.index,a=e.name,r=e.color,c=e.id,o=e.symbol,i=e.isBack,u=e.stack;return{id:c||y(n,a),isBack:i||!0,stack:u||-1/0,position:0,name:a,rank:n,index:t,color:r,symbol:o}}({rank:e.rank,index:e.index,name:n,symbol:t,color:a})}))}))),t=function(t){var a=n.splice(0,t).map((function(e){return Object(k.a)({},e,{position:t})}));e.push(a)},a=1;a<=7;a++)t(a);return e.concat(n).flat()}(),reducers:{move:function(e,n){var t=n.payload,a=t.cardId,r=t.newPosition;E(a,e).position=r},flip:function(e,n){var t=E(n.payload,e);t.isBack=!1,t.stack=0},stackPush:function(e,n){var t=n.payload,a=t.cardId,r=t.stackNumber;E(a,e).stack=r}}}),j=g.actions,w=j.move,x=j.flip,I=j.stackPush,N=function(e){return e};function B(e){return e.isBack?1/0:e.index}function C(e,n,t){return e.filter((function(e){return e[n]===t})).sort((function(e,n){var t=B(e);return B(n)-t}))}var A=r.a.forwardRef((function(e,n){var t=e.children,a=e.isOver,c=e.style,o=Object.assign(a?{backgroundColor:"#FFFF00"}:{},c);return r.a.createElement("div",{className:"column",ref:n},r.a.createElement("div",{className:"card-position deck",style:o},t))}));A.displayName="CardCell";var D=A;function S(e,n){return{cardId:e,newPosition:n}}function F(e,n,t){var a=S(n.cardId,t);return e(w(a))}var M=t(23),P=t.n(M),J=t(43);function R(e){var n=e.rank,t=e.symbol,a=e.name,c=e.id,o=e.isBack,i=e.isDeck,u=Object(J.a)({item:{type:v,cardId:c},canDrag:function(e){return!o},collect:function(e){return{isDragging:!!e.isDragging()}}}),s=Object(l.a)(u,2),d=s[0].isDragging,f=s[1],m=P()(i?"deck":"card","rank-".concat(n),a,{back:o}),b={opacity:d?.5:1,cursor:o?"auto":"grab"};return r.a.createElement("div",{className:"playingCards fourColours stack",ref:f,style:b},r.a.createElement("div",{className:m},!o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"rank"},n),r.a.createElement("span",{className:"suite"},t))))}function T(e){return e.map((function(e){var n=e.name,t=e.rank,a=e.symbol,c=e.id,o=e.color,i=e.isBack,u=e.index;return r.a.createElement(R,{key:c,id:c,index:u,name:n,rank:t,symbol:a,color:o,isBack:i})}))}function W(e){var n=e.id,t=e.style,c=void 0===t?{}:t,o=Object(a.useState)(!1),i=Object(l.a)(o,2),u=i[0],s=i[1],m=Object(a.useState)([]),b=Object(l.a)(m,2),p=b[0],k=b[1],y=Object(a.useState)(),h=Object(l.a)(y,2),g=h[0],j=h[1],w=Object(f.c)(N).cardsInfo,B=Object(f.b)();Object(a.useEffect)((function(){k(C(w,"position",n))}),[w]),Object(a.useEffect)((function(){j(p[p.length-1])}),[p]),Object(a.useEffect)((function(){g&&O(x,B)(g.id)}),[g]);var A=Object(d.a)({accept:v,canDrop:function(e,t){return function(e,n,t,a){var r=E(n.cardId,e);return!function(e){var n=e.toString().charCodeAt(),t="B".charCodeAt(),a="E".charCodeAt();return!(n<=t||n>=a)}(a)&&(void 0===t||t.index-r.index===1&&r.color!==t.color)}(w,e,g,n)},drop:function(e){var t=E(e.cardId,w);w.filter((function(e){return e.position===t.position&&e.stack>=t.stack})).forEach((function(e){F(B,{cardId:e.id},n);var t=g?g.stack:0;O(I,B)({cardId:e.id,stackNumber:t+1})})),s(!1)},hover:function(){return s(!0)}}),S=Object(l.a)(A,2)[1];return r.a.createElement(D,{ref:S,style:c,isOver:u},T(p))}function K(){return r.a.createElement("div",{className:"columns my-4"},r.a.createElement(W,{id:1}),r.a.createElement(W,{id:2}),r.a.createElement(W,{id:3}),r.a.createElement(W,{id:4}),r.a.createElement(W,{id:5}),r.a.createElement(W,{id:6}),r.a.createElement(W,{id:7}))}function Q(e,n,t){return!e&&!n&&!t}function Y(e){var n=e.id,t=e.style,c=void 0===t?{}:t,o=Object(a.useState)(!1),i=Object(l.a)(o,2),u=i[0],s=i[1],m=Object(a.useState)(0),b=Object(l.a)(m,2),p=b[0],E=b[1],k=Object(a.useState)(),y=Object(l.a)(k,2),O=y[0],h=y[1],g=Object(f.c)(N).cardsInfo,j=Object(f.b)(),w=Object(d.a)({accept:v,canDrop:function(e,n){return function(e,n,t,a){var r=e.find((function(e){return e.id===n.cardId}));return!!Q(t,a,r.index)||r.symbol===t&&r.index===a}(g,e,O,p)},drop:function(e){var t=g.find((function(n){return n.id===e.cardId}));Q(O,p,e.index)&&h(t.symbol),E(p+1),s(!1),F(j,e,n),function(e){return e.filter((function(e){return"B"===e.position})).length===e.filter((function(e){return"C"===e.position})).length===e.filter((function(e){return"D"===e.position})).length===e.filter((function(e){return"E"===e.position})).length===13}(g)&&alert("You won!")},hover:function(){return s(!0)}}),x=Object(l.a)(w,2)[1],I=C(g,"position",n);return r.a.createElement(D,{ref:x,style:c,isOver:u,isDeck:!0},T(I)[0])}function $(){var e=Object(f.c)(N).cardsInfo,n=Object(f.b)(),t=Object(a.useState)(null),c=Object(l.a)(t,2),o=c[0],i=c[1],u=function(t){o&&("A"===e.find((function(e){return e.id===o})).position&&O(w,n)(S(o,0)));var a=S(t,"A");O(w,n)(a),O(x,n)(t),i(a.cardId)};return r.a.createElement("div",{className:"column",onClick:function(){return function(e,n){n(h(e).find((function(e){return 0===e.position})).id)}(e,u)}},r.a.createElement("div",{className:"playingCards"},r.a.createElement("div",{className:"card back"})))}function q(e){var n=e.cards;return r.a.createElement("div",{className:"columns top-column"},r.a.createElement($,null),r.a.createElement(Y,{id:"A",cards:n,style:{marginRight:"15rem"}}),r.a.createElement(Y,{id:"B",cards:n}),r.a.createElement(Y,{id:"C",cards:n}),r.a.createElement(Y,{id:"D",cards:n}),r.a.createElement(Y,{id:"E",cards:n}))}var z=function(){var e="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0?s.a:u.a;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement(i.a,{backend:e},r.a.createElement(q,null),r.a.createElement(K,null)))))},G=Object(p.a)({reducer:{cardsInfo:g.reducer}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f.a,{store:G},r.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[28,1,2]]]);
//# sourceMappingURL=main.d57115e3.chunk.js.map